<div class="col">
  <div class="card shadow-sm">
    <%= link_to (local_assigns[:detail_view].present? ? media_item.photo : media_item) do %>
      <%= image_tag(
        (local_assigns[:detail_view].present? ? media_item.photo : media_item.photo.representation(resize_to_limit: [512, 512])),
        class: 'media-item-img') %>
    <% end %>
    <div class="card-body">
      <p class="card-text"><i class="bi bi-geo-alt"></i> <%= "#{media_item.waypoint.name}, #{media_item.waypoint.country_name} #{media_item.waypoint.country_flag}" %></p>
      <div class="d-flex justify-content-between align-items-center">
        <small class="text-muted"><%= "#{time_ago_in_words(media_item.created_at)} ago" %></small>
        <span class="media-item-reaction-buttons">
          <%= render 'shared/like_button', likeable: media_item %>
          <%= render 'shared/comments_button', commentable: media_item %>
        </span>
      </div>
    </div>
  </div>
</div>